%Поиск наиболее подходящего рейса самолета, которое подходит пассажиру либо по стоимости и наиболее подходящему по городу вылета и вывод стоимости рейса для пассажира в определенный город.

%Исходные данные:
%Город вылета
%Стоимость рейса
%Бюджет пассажира
%Результат:
%Наиболее подходящий рейс самолета


PREDICATES
nondeterm наиболее_предпочтительные_города_прилета(symbol, symbol, symbol, symbol).
nondeterm стоимость_рейса(symbol, symbol, integer).
nondeterm город_вылета(symbol, symbol).
nondeterm рейс_для_пассажира(symbol, symbol, integer).
nondeterm стоимость_рейса_для_пассажира(symbol, symbol, integer).


CLAUSES
наиболее_предпочтительные_города_прилета(Пасс1, Краснодар, Сочи).%ф1
наиболее_предпочтительные_города_прилета(Пасс2, Астрахань, Калининград).%ф2
наиболее_предпочтительные_города_прилета(Пасс3, Москва, Пермь).%ф3

cтоимость_рейса(Р1, Нижний Новгород, Сочи, 5000).%ф4
cтоимость_рейса(Р2, Краснодар, Сочи, 7000).%ф5
cтоимость_рейса(Р3, Москва, Калининград, 6500).%ф6
cтоимость_рейса(Р4, Нижний Новгород, Астрахань, 4000).%ф7
cтоимость_рейса(Р5, Казань, Пермь, 6700).%ф8
cтоимость_рейса(Р6, Нижний Новгород, Краснодар, 10000).%ф9
cтоимость_рейса(Р7, Сочи, Астрахань, 3800).%ф10
cтоимость_рейса(Р8, Москва, Краснодар, 5000).%ф11
cтоимость_рейса(Р9, Сочи, Москва, 5500).%ф12
cтоимость_рейса(Р10, Нижний Новгород, Москва, 5900).%ф13

город_вылета(Пасс1, Нижний Новгород).%ф14
город_вылета(Пасс2, Сочи).%ф15
город_вылета(Пасс3, Москва).%ф16


рейс_для_пассажира(Имя, Рейс, Бюджет):-наиболее_предпочтительные_города_прилета(Имя, Город1, _), город_вылета(Имя, Город), cтоимость_рейса(Рейс1, Город, Город1, Ст1),Бюджет>=Ст1, Рейс1=Рейс;
наиболее_предпочтительные_города_прилета(Имя, _, Город2), город_вылета(Имя, Город), cтоимость_рейса(Рейс2, Город, Город2, Ст2),Бюджет>=Ст2, Рейс2=Рейс.%правило1

стоимость_рейса_для_пассажира(Имя, ГородПр, Бюджет):-город_вылета(Имя, Город), cтоимость_рейса(Рейс1, Город, ГородПр, Ст1),Ст1=Бюджет;
город_вылета(Имя, Город), cтоимость_рейса(Рейс2, Город, ГородПр, Ст2), Ст2=Бюджет.


GOAL
блюдо_гостя(Пасс1, Город, 5000).%з1
стоимость_рейса_для_пассажира(Пасс2, Москва, Бюджет).%з2
